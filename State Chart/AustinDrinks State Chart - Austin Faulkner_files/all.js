var AP=function(){function B(d,f){ia=B=Object.setPrototypeOf||function(b,a){b.__proto__=a;return b};return B(d,f)}function D(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(d){return!1}}function E(d,f,b){ja=D()?E=Reflect.construct:E=function(a,c,e){var g=[null];g.push.apply(g,c);a=new (Function.bind.apply(a,g));e&&pa(a,e.prototype);
return a};return E.apply(null,arguments)}function F(){ka=F=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var b=arguments[f],a;for(a in b)Object.prototype.hasOwnProperty.call(b,a)&&(d[a]=b[a])}return d};return F.apply(this,arguments)}function x(d,f){f=f||qa;var b=[];if(d)if("string"===typeof d)d=f.querySelectorAll(d),d=Array.prototype.slice.call(d),Array.prototype.push.apply(b,d);else if(1===d.nodeType)b.push(d);else if(d===window)b.push(d);else if("function"===typeof d)x.onDomLoad(d);
y.extend(b,{each:function(a){la(this,a);return this},bind:function(a,c){this.each(function(e,g){this.bind(g,a,c)})},attr:function(a){var c;this.each(function(e,g){c=g[a]||g.getAttribute&&g.getAttribute(a);return!c});return c},removeClass:function(a){return this.each(function(c,e){e.className&&(e.className=e.className.replace(new RegExp("(^|\\s)"+a+"(\\s|$)")," "))})},html:function(a){return this.each(function(c,e){e.innerHTML=a})},append:function(a){return this.each(function(c,e){var g=f.createElement(a.tag);
la(a,function(h,l){"$text"===h?g.styleSheet?g.styleSheet.cssText=l:g.appendChild(f.createTextNode(l)):"tag"!==h&&(g[h]=l)});e.appendChild(g)})}});return b}function H(d,f){d+="EventListener";f+="Event";return function(b,a,c){if(b[d])b[d](a,c,!1);else if(b[f])b[f]("on"+a,c)}}function t(){var d=x(".ac-content, #content");return 0<d.length?d[0]:document.body}function z(){this.q=[];this.add=function(b){this.q.push(b)};var d,f;this.call=function(){d=0;for(f=this.q.length;d<f;d++)this.q[d].call()}}function p(d,
f){if(!d.resizedAttached)d.resizedAttached=new z,d.resizedAttached.add(f);else if(d.resizedAttached){d.resizedAttached.add(f);return}"BODY"===d.nodeName&&["padding","margin"].forEach(function(l){d.style[l+"-bottom"]="0px";d.style[l+"-top"]="0px"},this);d.resizeSensor=document.createElement("div");d.resizeSensor.className="ac-resize-sensor";d.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;";var b=document.createElement("div");
b.className="ac-resize-sensor-expand";b.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;";var a=document.createElement("div");b.appendChild(a);a.style.cssText="position: absolute; left: 0; top: 0;";var c=document.createElement("div");c.className="ac-resize-sensor-shrink";c.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;";f=document.createElement("div");
c.appendChild(f);f.style.cssText="position: absolute; left: 0; top: 0; width: 200%; height: 200%";d.resizeSensor.appendChild(b);d.resizeSensor.appendChild(c);d.appendChild(d.resizeSensor);"BODY"!==d.nodeName&&window.getComputedStyle&&"static"===window.getComputedStyle(d).position&&(d.style.position="relative");var e,g,h=function(){a.style.width=b.offsetWidth+10+"px";a.style.height=b.offsetHeight+10+"px";b.scrollLeft=b.scrollWidth;b.scrollTop=b.scrollHeight;c.scrollLeft=c.scrollWidth;c.scrollTop=c.scrollHeight;
e=d.offsetWidth;g=d.offsetHeight};h();f=function(){(d.offsetWidth!==e||d.offsetHeight!==g)&&d.resizedAttached&&d.resizedAttached.call();h()};b.addEventListener("scroll",f);c.addEventListener("scroll",f);f=new MutationObserver(f);d.resizeObserver=f;f.observe(d,{attributes:!0,attributeFilter:["style"]})}function w(d,f,b,a){var c=!1;return function(){!c&&"undefined"!==typeof console&&console.warn&&(c=!0,console.warn("DEPRECATED API - "+f+" has been deprecated "+(a?"since ACJS "+a:"in ACJS")+(" and will be removed in a future release. "+
(b?"Use "+b+" instead.":"No alternative will be provided."))),m._analytics&&m._analytics.trackDeprecatedMethodUsed(f));return d.apply(void 0,arguments)}}function k(d,f){var b;if(d){var a=d.length;if(null!=a&&"function"!==typeof d)for(b=0;b<a&&!1!==f.call(d[b],b,d[b]);)b+=1;else for(b in d)if(d.hasOwnProperty(b)&&!1===f.call(d[b],b,d[b]))break}}function n(d,f){d+="EventListener";f+="Event";return function(b,a,c){if(b[d])b[d](a,c,!1);else if(b[f])b[f]("on"+a,c)}}function q(){var d=this.console;if(d&&
d.log){var f=[].slice.call(arguments);if(d.log.apply)d.log.apply(d,f);else{for(var b=0,a=f.length;b<a;b+=1)f[b]=JSON.stringify(f[b]);d.log(f.join(" "))}return!0}}function u(d,f){if((d=R[d])&&0!==d.length)try{d.forEach(function(b){b.call(null,f)})}catch(b){console.error(b)}}function G(d,f){var b=R[d],a="close"!==d,c=null;if(!a||"undefined"!==typeof f.button){"submit"===d&&m.dialog._disableCloseOnSubmit&&(a=!1);try{b&&(f&&f.button&&f.button.name&&(c=m.dialog.getButton(f.button.name)),a=b.reduce(function(e,
g){return g.call(c,f)&&e},a))}catch(e){console.error(e)}finally{(a||"close"===d)&&delete R[d]}a&&m.dialog.close()}}function r(d,f){"function"===typeof f&&(R[d]||(R[d]=[]),R[d].push(f))}function A(d,f){var b=[],a=0,c=d.length;if(d&&0<d.length)for(;a<c;a+=1){var e=I(d[a]);b.push(e);if(b.length===c){e=[];for(var g=0;g<c;g+=1)e[g]=b[g].exports;f&&f.apply(window,e)}}else f&&f()}function I(d){if(Y[d])return Y[d];var f=M(d);return f?Y[d]=f:Y[d]={name:d,exports:function(){function b(){var a=b.__target__;
if(a)return a.apply(window,arguments)}return b}()}}function M(d){var f;if(m._hostModules&&(m._hostModules[d]&&(f=m._hostModules[d]),m._hostModules._globals&&m._hostModules._globals[d]&&(f=m._hostModules._globals[d]),f))return{name:d,exports:f}}function da(d){return Z("meta[name='ap-"+d+"']").attr("content")}var T=function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d},aa=function(d,f){d.prototype=Object.create(f.prototype);d.prototype.constructor=
d;d.__proto__=f},ia=B,pa=ia,ja=E,ra=ja,ma=Function.prototype.bind,y={locationOrigin:function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},randomString:function(){return Math.floor(1E9*Math.random()).toString(16)},isString:function(d){return"string"===typeof d||d instanceof String},argumentsToArray:function(d){return Array.prototype.slice.call(d)},argumentNames:function(d){return d.toString().replace(/((\/\/.*$)|(\/\*[^]*?\*\/))/mg,
"").replace(/[^(]+\(([^)]*)[^]+/,"$1").match(/([^\s,]+)/g)||[]},hasCallback:function(d){var f=d.length;return 0<f&&"function"===typeof d[f-1]},error:function(d){if(window.console&&window.console.error){var f=[];"string"===typeof d?(f.push("[Simple-XDM] "+d),f=f.concat(Array.prototype.slice.call(arguments,1))):(f.push("[Simple-XDM] "),f=f.concat(Array.prototype.slice.call(arguments)));window.console.error.apply(null,f)}},warn:function(d){window.console&&console.warn("[Simple-XDM] "+d)},log:function(d){window.console&&
window.console.log("[Simple-XDM] "+d)},_bind:function(d,f){return ma&&f.bind===ma?f.bind(d):function(){return f.apply(d,arguments)}},throttle:function(d,f,b){var a=0;return function(){var c=Date.now();c-a>f&&(a=c,d.apply(b,arguments))}},each:function(d,f){var b;if(d){var a=d.length;if(null!=a&&"function"!==typeof d)for(b=0;b<a&&!1!==f.call(d[b],b,d[b]);)b+=1;else for(b in d)if(d.hasOwnProperty(b)&&!1===f.call(d[b],b,d[b]))break}},extend:function(d){var f=arguments;[].slice.call(f,1,f.length).forEach(function(b){"object"===
typeof b&&Object.getOwnPropertyNames(b).forEach(function(a){d[a]=b[a]})});return d},sanitizeStructuredClone:function(d){function f(g){if("function"===typeof g)return c("A function was detected and removed from the message."),null;if(a.some(function(C){return g instanceof C?(c(C.name+" object was detected and removed from the message."),!0):!1}))return{};if(g&&"object"===typeof g&&b.every(function(C){return!(g instanceof C)})){if(Array.isArray(g))var h=g.map(function(C){return f(C)});else{if(-1<e.indexOf(g))return c("A circular reference was detected and removed from the message."),
null;e.push(g);h={};for(var l in g)if(g.hasOwnProperty(l)){var v=f(g[l]);null!==v&&(h[l]=v)}e.pop()}return h}return g}var b=[Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer],a=[Error,Node],c=y.warn,e=[];return f(d)},getOrigin:function(d,f){if("function"===typeof URL)try{return(new URL(d,f)).origin}catch(c){}var b=document.implementation.createHTMLDocument("");if(f){var a=b.createElement("base");a.href=f;b.head.appendChild(a)}f=b.createElement("a");f.href=d;b.body.appendChild(f);b=f.protocol+
"//"+f.hostname;d.match(/\/\/[^/]+:[0-9]+\//)&&(b+=f.port?":"+f.port:"");return b}},N=function(){function d(b){this._registerListener((b||{}).listenOn)}var f=d.prototype;f._registerListener=function(b){b&&b.addEventListener||(b=window);b.addEventListener("message",y._bind(this,this._receiveMessage),!1)};f._receiveMessage=function(b){var a=this._messageHandlers[b.data.type],c=b.data.eid,e;c&&this._registeredExtensions&&(e=this._registeredExtensions[c]);if(!a||!this._checkOrigin(b,e))return!1;a.call(this,
b,e)};return d}(),sa=function(d){function f(a){a=a||{};var c=d.call(this,a)||this;c._registeredExtensions=a.extensions||{};c._registeredAPIModules={};c._registeredAPIModules._globals={};c._pendingCallbacks={};c._keycodeCallbacks={};c._clickHandler=null;c._pendingEvents={};c._messageHandlers={init:c._handleInit,req:c._handleRequest,resp:c._handleResponse,broadcast:c._handleBroadcast,event_query:c._handleEventQuery,key_triggered:c._handleKeyTriggered,addon_clicked:c._handleAddonClick,get_host_offset:c._getHostOffset,
unload:c._handleUnload,sub:c._handleSubInit};return c}aa(f,d);var b=f.prototype;b._padUndefinedArguments=function(a,c){return a.length>=c?a:a.concat(Array(c-a.length))};b._verifyAPI=function(a,c){function e(v,C){Object.getOwnPropertyNames(C).forEach(function(J){"object"===typeof C[J]&&v[J]?e(v[J],C[J]):"parent"===C[J]&&v[J]&&(l=!0)})}var g=a.data.targets;if(g){var h=this.getApiSpec(),l=!1;e(h,g);a.source.postMessage({type:"api_tamper",tampered:l},c.extension.url)}};b._handleInit=function(a,c){a.source.postMessage({type:"init_received"},
c.extension.url);this._registeredExtensions[c.extension_id].source=a.source;c.initCallback&&(c.initCallback(a.data.eid),delete c.initCallback);a.data.targets&&this._verifyAPI(a,c)};b._handleSubInit=function(a,c){var e=c.extension.options.noSub||this._getBooleanFeatureFlag&&this._getBooleanFeatureFlag("com.atlassian.connect.resolve_inner_iframe_url");a=a.data;e?y.error("Sub-Extension requested by ["+c.extension.addon_key+"] but feature is disabled"):this.registerExtension(a.ext.id,{extension:a.ext});
this._registeredRequestNotifier&&this._registeredRequestNotifier.call(null,{sub:a.ext,type:a.type,addon_key:c.extension.addon_key,key:c.extension.key,extension_id:c.extension_id,blocked:e})};b._getHostOffset=function(a,c){var e=a.source,g=null;c=c||window;c===c.top&&"function"===typeof c.getHostOffsetFunctionOverride&&(g=c.getHostOffsetFunctionOverride(e));if("number"!==typeof g)for(g=0;!this._hasSameOrigin(e);)g++,e=e.parent;a.source.postMessage({hostFrameOffset:g},a.origin)};b._hasSameOrigin=function(a){if(a===
a.top)return!0;try{var c="test_var_"+Math.random().toString(16).substr(2);a[c]=!0;return a[c]}catch(e){}return!1};b._handleResponse=function(a){a=a.data;var c=this._pendingCallbacks[a.mid];c&&(delete this._pendingCallbacks[a.mid],c.apply(window,a.args))};b.registerRequestNotifier=function(a){this._registeredRequestNotifier=a};b._handleRequest=function(a,c){function e(){var K=y.sanitizeStructuredClone(y.argumentsToArray(arguments));a.source.postMessage({mid:a.data.mid,type:"resp",forPlugin:!0,args:K},
c.extension.url)}var g=a.data,h=this._registeredAPIModules[g.mod],l=this.getRegisteredExtensions(c.extension)[0];if(h){var v=g.fn;if(g._cls){var C=h[g._cls],J=g.mod+"-"+g._cls+"-";e._id=g._id;"constructor"===v?(C._construct||(C.constructor.prototype._destroy=function(){delete this._context._proxies[J+this._id]},C._construct=function(){for(var K=arguments.length,P=Array(K),ba=0;ba<K;ba++)P[ba]=arguments[ba];K=ra(C.constructor,P);P=P[P.length-1];K._id=P._id;K._context=P._context;return K._context._proxies[J+
K._id]=K}),h=C,v="_construct"):h=l._proxies[J+g._id]}var S=h[v];if(S){var O=g.args,U=S.length-1;"_construct"===v&&(U=h.constructor.length-1);e._context=l;O=this._padUndefinedArguments(O,U);O.push(e);h=S.apply(h,O);S.returnsPromise&&("object"!==typeof h&&"function"!==typeof h||"function"!==typeof h.then?e("Defined module method did not return a promise."):h.then(function(K){e(void 0,K)}).catch(function(K){K=K instanceof Error?K.message:K;e(K)}));this._registeredRequestNotifier&&this._registeredRequestNotifier.call(null,
{module:g.mod,fn:g.fn,type:g.type,addon_key:c.extension.addon_key,key:c.extension.key,extension_id:c.extension_id})}}};b._handleBroadcast=function(a,c){a=a.data;this.dispatch(a.etyp,function(e){return e.extension.addon_key===c.extension.addon_key&&e.extension_id!==c.extension_id},a.evnt,null,null)};b._handleKeyTriggered=function(a,c){var e=a.data;a=this._keycodeKey(e.keycode,e.modifiers,c.extension_id);(a=this._keycodeCallbacks[a])&&a.forEach(function(g){g.call(null,{addon_key:c.extension.addon_key,
key:c.extension.key,extension_id:c.extension_id,keycode:e.keycode,modifiers:e.modifiers})},this)};b.defineAPIModule=function(a,c){c=c||"_globals";this._registeredAPIModules[c]=y.extend({},this._registeredAPIModules[c]||{},a);return this._registeredAPIModules};b.isAPIModuleDefined=function(a){return"undefined"!==typeof this._registeredAPIModules[a]};b._pendingEventKey=function(a,c){var e=a.addon_key||"global";a.key&&(e=e+"@@"+a.key);return e+"@@"+c};b.queueEvent=function(a,c,e,g){if(this._findRegistrations(c).some(function(l){return void 0!==
l.registered_events},this))this.dispatch(a,c,e,g);else{this._cleanupInvalidEvents();var h=(new Date).getTime();this._pendingEvents[this._pendingEventKey(c,h)]={type:a,targetSpec:c,event:e,callback:g,time:h,uid:y.randomString()}}};b._cleanupInvalidEvents=function(){var a=this,c=(new Date).getTime();Object.keys(this._pendingEvents).forEach(function(e){3E4>=c-a._pendingEvents[e].time||delete a._pendingEvents[e]})};b._handleEventQuery=function(a,c){var e=this,g={},h=(new Date).getTime();Object.keys(this._pendingEvents).forEach(function(l){var v=
e._pendingEvents[l],C=3E4>=h-v.time,J=!v.targetSpec||0!==e._findRegistrations(v.targetSpec).length;J&&v.targetSpec.key&&(J=v.targetSpec.addon_key===c.extension.addon_key&&v.targetSpec.key===c.extension.key);C&&J?(g[l]=v,v.targetSpec=v.targetSpec||{},e.dispatch(v.type,v.targetSpec,v.event,v.callback,a.source)):C||delete e._pendingEvents[l]});this._registeredExtensions[c.extension_id].registered_events=a.data.args;return g};b._handleUnload=function(a,c){c&&(c.extension_id&&this._registeredExtensions[c.extension_id]&&
delete this._registeredExtensions[c.extension_id].source,c.unloadCallback&&c.unloadCallback(a.data.eid))};b.dispatch=function(a,c,e,g,h){function l(v,C){if(v.source&&v.source.postMessage){if(g){var J=y.randomString();this._pendingCallbacks[J]=g}v.source.postMessage({type:"evt",mid:J,etyp:a,evnt:C},v.extension.url)}}this._findRegistrations(c||{}).forEach(function(v){h&&!v.source&&(v.source=h);v.source&&y._bind(this,l)(v,e)},this)};b._findRegistrations=function(a){var c=this;if(0===this._registeredExtensions.length)return y.error("no registered extensions",
this._registeredExtensions),[];var e=Object.getOwnPropertyNames(a),g=Object.getOwnPropertyNames(this._registeredExtensions).map(function(h){return c._registeredExtensions[h]});return a instanceof Function?g.filter(a):g.filter(function(h){return e.every(function(l){return h.extension[l]===a[l]})})};b.registerExtension=function(a,c){c._proxies={};c.extension_id=a;this._registeredExtensions[a]=c};b._keycodeKey=function(a,c,e){var g=a;c&&("string"===typeof c&&(c=[c]),c.sort(),c.forEach(function(h){g+=
"$$"+h},this));return g+"__"+e};b.registerKeyListener=function(a,c,e,g){"string"===typeof e&&(e=[e]);var h=this._registeredExtensions[a];a=this._keycodeKey(c,e,a);this._keycodeCallbacks[a]||(this._keycodeCallbacks[a]=[],h.source.postMessage({type:"key_listen",keycode:c,modifiers:e,action:"add"},h.extension.url));this._keycodeCallbacks[a].push(g)};b.unregisterKeyListener=function(a,c,e,g){var h=this._keycodeKey(c,e,a),l=this._keycodeCallbacks[h];a=this._registeredExtensions[a];l&&(g?(g=l.indexOf(g),
this._keycodeCallbacks[h].splice(g,1)):delete this._keycodeCallbacks[h],a.source&&a.source.postMessage&&a.source.postMessage({type:"key_listen",keycode:c,modifiers:e,action:"remove"},a.extension.url))};b.registerClickHandler=function(a){if("function"!==typeof a)throw Error("callback must be a function");if(null!==this._clickHandler)throw Error("ClickHandler already registered");this._clickHandler=a};b._handleAddonClick=function(a,c){"function"===typeof this._clickHandler&&this._clickHandler({addon_key:c.extension.addon_key,
key:c.extension.key,extension_id:c.extension_id})};b.unregisterClickHandler=function(){this._clickHandler=null};b.getApiSpec=function(a){function c(g){return Object.getOwnPropertyNames(g).reduce(function(h,l){var v=g[l];switch(typeof v){case "function":h[l]={args:y.argumentNames(v),returnsPromise:v.returnsPromise||!1};break;case "object":v.hasOwnProperty("constructor")&&(h[l]=c(v))}return h},{})}var e=this;return Object.getOwnPropertyNames(this._registeredAPIModules).reduce(function(g,h){var l=e._registeredAPIModules[h];
if("undefined"===typeof l.addonKey||l.addonKey===a)g[h]=c(l);return g},{})};b._originEqual=function(a,c){function e(h){return"string"===typeof h&&0<h.length}var g=y.getOrigin(a);return e(a)&&e(c)&&e(g)?c===g:!1};b._checkOrigin=function(a,c){var e=["init"],g=c&&!c.source&&-1<e.indexOf(a.data.type);e=c&&a.source===c.source;c=c&&this._originEqual(c.extension.url,a.origin)&&(g||e);"get_host_offset"===a.data.type&&window===window.top&&(c=!0);"unload"!==a.data.type||!e&&void 0!==a.source||(c=!0);return c};
b.getRegisteredExtensions=function(a){return a?this._findRegistrations(a):this._registeredExtensions};b.unregisterExtension=function(a){a=this._findRegistrations(a);0!==a.length&&a.forEach(function(c){var e=this;Object.keys(this._pendingEvents).forEach(function(g){var h=e._pendingEvents[g].targetSpec||{};h.addon_key===c.extension.addon_key&&h.key===c.extension.key&&delete e._pendingEvents[g]});delete this._registeredExtensions[c.extension_id]},this)};b.setFeatureFlagGetter=function(a){this._getBooleanFeatureFlag=
a};return f}(N),V=function(){function d(){this._xdm=new sa}var f=d.prototype;f.dispatch=function(b,a,c,e){this._xdm.queueEvent(b,a,c,e);return this.getExtensions(a)};f.broadcast=function(b,a,c){this._xdm.dispatch(b,a,c,null,null);return this.getExtensions(a)};f._createId=function(b){if(!b.addon_key||!b.key)throw Error("Extensions require addon_key and key");return b.addon_key+"__"+b.key+"__"+y.randomString()};f.create=function(b,a,c){a=this.registerExtension(b,a,c);c=b.options||{};c={extension_id:a,
api:this._xdm.getApiSpec(b.addon_key),origin:y.locationOrigin(),options:c};return{id:a,name:JSON.stringify(c),src:b.url}};f.registerRequestNotifier=function(b){this._xdm.registerRequestNotifier(b)};f.registerExtension=function(b,a,c){var e=this._createId(b);this._xdm.registerExtension(e,{extension:b,initCallback:a,unloadCallback:c});return e};f.registerKeyListener=function(b,a,c,e){this._xdm.registerKeyListener(b,a,c,e)};f.unregisterKeyListener=function(b,a,c,e){this._xdm.unregisterKeyListener(b,
a,c,e)};f.registerClickHandler=function(b){this._xdm.registerClickHandler(b)};f.unregisterClickHandler=function(){this._xdm.unregisterClickHandler()};f.defineModule=function(b,a,c){this._xdm.defineAPIModule(a,b,c)};f.isModuleDefined=function(b){return this._xdm.isAPIModuleDefined(b)};f.defineGlobals=function(b){this._xdm.defineAPIModule(b)};f.getExtensions=function(b){return this._xdm.getRegisteredExtensions(b)};f.unregisterExtension=function(b){return this._xdm.unregisterExtension(b)};f.returnsPromise=
function(b){b.returnsPromise=!0};f.setFeatureFlagGetter=function(b){this._xdm.setFeatureFlagGetter(b)};f.registerExistingExtension=function(b,a){return this._xdm.registerExtension(b,a)};return d}(),ka=F,ta=ka,la=y.each,qa=window.document;x.bind=H("add","attach");x.unbind=H("remove","detach");x.onDomLoad=function(d){var f=window;"complete"===f.document.readyState?d.call(f):x.bind(f,"load",function(){d.call(f)})};var W=new (function(){function d(){this.options={}}var f=d.prototype;f._flush=function(){this.options=
{}};f.get=function(b){return b?this.options[b]:this.options};f.set=function(b,a){var c=this;if(b){if(a){var e;b=(e={},e[b]=a,e)}Object.getOwnPropertyNames(b).forEach(function(g){c.options[g]=b[g]},this)}};return d}()),ea=function(d,f,b){var a=function(){var l=window.innerWidth-b.clientWidth;l=0>l?0:l;return 50<l?50:l},c=function(){var l=window.innerHeight-Math.min(b.clientHeight,document.documentElement.clientHeight);l=0>l?0:l;return 50<l?50:l};d=null==d?"100%":d;var e=!!W.get("widthinpx");(b=b||
t())||y.warn("size called before container or body appeared, ignoring");e&&"string"===typeof d&&-1!==d.search("%")&&(d=Math.max(b.scrollWidth,b.offsetWidth,b.clientWidth));if(f)var g=f;else if(f=Math.max(b.scrollHeight,document.documentElement.scrollHeight,b.offsetHeight,document.documentElement.offsetHeight,b.clientHeight,document.documentElement.clientHeight),b===document.body)g=f;else{var h=window.getComputedStyle(b);g=b.getBoundingClientRect().height;0===g?g=f:["margin-top","margin-bottom"].forEach(function(l){l=
parseFloat(h[l]);g+=l})}d="number"===typeof d&&Math.min(b.scrollHeight,document.documentElement.scrollHeight)>Math.min(b.clientHeight,document.documentElement.clientHeight)?d+a():d;g="number"===typeof g&&b.scrollWidth>b.clientWidth?g+c():g;return{w:d,h:g}},ua={add:function(d){var f=t();p(f,d)},remove:function(){var d=t();d.resizeSensor&&(d.resizeObserver.disconnect(),d.removeChild(d.resizeSensor),delete d.resizeSensor,delete d.resizedAttached)}},va=function(){function d(b){this.resizeError=y.throttle(function(a){console.info(a)},
1E3);this.dimensionStores={width:[],height:[]};this.callback=b}var f=d.prototype;f._setVal=function(b,a,c){this.dimensionStores[a]=this.dimensionStores[a].filter(function(e){return 400>c-e.setAt});this.dimensionStores[a].push({val:parseInt(b,10),setAt:c})};f._isFlicker=function(b,a){return 5<=this.dimensionStores[a].length};f.triggered=function(b){b=b||ea();var a=Date.now();this._setVal(b.w,"width",a);this._setVal(b.h,"height",a);var c=this._isFlicker(b.w,"width",a);a=this._isFlicker(b.h,"height",
a);c&&(b.w="100%",this.resizeError("SIMPLE XDM: auto resize flickering width detected, setting to 100%"));a&&(c=this.dimensionStores.height.map(function(e){return e.val}),b.h=Math.max.apply(null,c)+"px",this.resizeError("SIMPLE XDM: auto resize flickering height detected, setting to: "+b.h));this.callback(b.w,b.h)};return d}(),Q=new (function(){function d(){}var f=d.prototype;f._elementExists=function(b){return b&&1===b.length};f._elementOptions=function(b){return b.attr("data-options")};f._getConsumerOptions=
function(){var b={},a=x("#ac-iframe-options"),c=x("script[src*='/atlassian-connect/all']"),e=x("script[src*='/connect-cdn.atl-paas.net/all']");this._elementExists(a)&&this._elementOptions(a)||(this._elementExists(c)?a=c:this._elementExists(e)&&(a=e));this._elementExists(a)&&(a=this._elementOptions(a))&&a.split(";").forEach(function(g){if(g=g.trim()){var h=g.split(":");g=h[0].trim();h=h[1].trim();g&&null!=h&&(b[g]="true"===h||"false"===h?"true"===h:h)}});return b};f._flush=function(){delete this._options};
f.get=function(b){this._options||(this._options=this._getConsumerOptions());return b?this._options[b]:this._options};return d}()),wa=["ctrl","shift","alt","meta"],xa=function(d){function f(a,c){void 0===c&&(c=!0);var e=d.call(this)||this;W.set(a);e._data=e._parseInitData();W.set(e._data.options);e._data.options=e._data.options||{};e._hostOrigin=e._data.options.hostOrigin||"*";e._top=window.top;e._host=window.parent||window;e._topHost=e._getHostFrame(e._data.options.hostFrameOffset);e._topHost!==e._top&&
e._verifyHostFrameOffset();e._initTimeout=5E3;e._initReceived=!1;e._initCheck=c;e._isKeyDownBound=!1;e._hostModules={};e._eventHandlers={};e._pendingCallbacks={};e._keyListeners=[];e._version="5.3.62";e._apiTampered=void 0;e._isSubIframe=e._topHost!==window.parent;e._onConfirmedFns=[];e._promise=Promise;e._data.api&&(e._setupAPI(e._data.api),e._setupAPIWithoutRequire(e._data.api));e._messageHandlers={init_received:e._handleInitReceived,resp:e._handleResponse,evt:e._handleEvent,key_listen:e._handleKeyListen,
api_tamper:e._handleApiTamper};e._data.origin&&(e._sendInit(e._host,e._data.origin),e._isSubIframe&&e._sendInit(e._topHost,e._hostOrigin));e._registerOnUnload();e.resize=y._bind(T(e),function(g,h){if(t()){var l=ea();g||(g=l.w);h||(h=l.h);e._hostModules.env&&e._hostModules.env.resize&&e._hostModules.env.resize(g,h)}else y.warn("resize called before container or body appeared, ignoring")});x(y._bind(T(e),e._autoResizer));e.container=t;e.size=ea;window.addEventListener("click",function(g){e._host.postMessage({eid:e._data.extension_id,
type:"addon_clicked"},e._hostOrigin)});return e}aa(f,d);var b=f.prototype;b._getHostFrame=function(a){if(a&&"number"===typeof a){for(var c=window,e=0;e<a;e++)c=c.parent;return c}return this._top};b._verifyHostFrameOffset=function(){var a=this;window.addEventListener("message",function g(e){e.source===a._top&&e.data&&"number"===typeof e.data.hostFrameOffset&&(window.removeEventListener("message",g),a._getHostFrame(e.data.hostFrameOffset)!==a._topHost&&(y.error("hostFrameOffset tampering detected, setting host frame to top window"),
a._topHost=a._top))});this._top.postMessage({type:"get_host_offset"},this._hostOrigin)};b._handleApiTamper=function(a){!1!==a.data.tampered?(this._host=void 0,this._apiTampered=!0,y.error("XDM API tampering detected, api disabled")):(this._apiTampered=!1,this._onConfirmedFns.forEach(function(c){c.apply(null)}));this._onConfirmedFns=[]};b._registerOnUnload=function(){x.bind(window,"unload",y._bind(this,function(){this._sendUnload(this._host,this._data.origin);this._isSubIframe&&this._sendUnload(this._topHost,
this._hostOrigin)}))};b._sendUnload=function(a,c){a.postMessage({eid:this._data.extension_id,type:"unload"},c||"*")};b._bindKeyDown=function(){this._isKeyDownBound||(x.bind(window,"keydown",y._bind(this,this._handleKeyDownDomEvent)),this._isKeyDownBound=!0)};b._autoResizer=function(){this._enableAutoResize=!!W.get("autoresize");if(!1===Q.get("resize")||!0===Q.get("sizeToParent"))this._enableAutoResize=!1;this._enableAutoResize&&this._initResize()};b._parseInitData=function(a){try{return JSON.parse(a||
window.name)}catch(c){return{}}};b._findTarget=function(a,c){return this._data.options&&this._data.options.targets&&this._data.options.targets[a]&&this._data.options.targets[a][c]?this._data.options.targets[a][c]:"top"};b._createModule=function(a,c){var e=this;return Object.getOwnPropertyNames(c).reduce(function(g,h){var l=c[h];l.hasOwnProperty("constructor")?g[h]=e._createProxy(a,l,h):g[h]=e._createMethodHandler({mod:a,fn:h,returnsPromise:l.returnsPromise});return g},{})};b._setupAPI=function(a){var c=
this;this._hostModules=Object.getOwnPropertyNames(a).reduce(function(e,g){e[g]=c._createModule(g,a[g],a[g]._options);return e},{});Object.getOwnPropertyNames(this._hostModules._globals||{}).forEach(function(e){c[e]=c._hostModules._globals[e]})};b._setupAPIWithoutRequire=function(a){var c=this;Object.getOwnPropertyNames(a).forEach(function(e){if("undefined"!==typeof c[e])throw Error("XDM module: "+e+" will collide with existing variable");c[e]=c._createModule(e,a[e])},this)};b._pendingCallback=function(a,
c,e){e&&Object.getOwnPropertyNames(e).forEach(function(g){c[g]=e[g]});this._pendingCallbacks[a]=c};b._createProxy=function(a,c,e){function g(l){if(!(this instanceof g))return new g(arguments);this._cls=e;this._id=y.randomString();h.constructor.apply(this,l);return this}var h=this._createModule(a,c);Object.getOwnPropertyNames(h).forEach(function(l){"constructor"!==l&&(g.prototype[l]=h[l])});return g};b._createMethodHandler=function(a){var c=this;return function(){var e=y.argumentsToArray(arguments),
g={eid:c._data.extension_id,type:"req",mod:a.mod,fn:a.fn},h=y.randomString();if("top"===c._findTarget(a.mod,a.fn)){var l=c._topHost;var v=c._hostOrigin}else l=c._host,v=c._data.origin;if(y.hasCallback(e))g.mid=h,c._pendingCallback(g.mid,e.pop(),{useCallback:!0,isPromiseMethod:!!a.returnsPromise});else if(a.returnsPromise){g.mid=h;var C=new Promise(function(J,S){c._pendingCallback(g.mid,function(O,U){O||"undefined"===typeof U&&"undefined"===typeof O?S(O):J(U)},{useCallback:!1,isPromiseMethod:!!a.returnsPromise})});
C.catch(function(J){y.warn("Failed promise: "+J)})}this&&this._cls&&(g._cls=this._cls,g._id=this._id);g.args=y.sanitizeStructuredClone(e);c._isSubIframe&&"undefined"===typeof c._apiTampered?c._onConfirmedFns.push(function(){l.postMessage(g,v)}):l.postMessage(g,v);if(C)return C}};b._handleResponse=function(a){a=a.data;if(a.forPlugin){var c=this._pendingCallbacks[a.mid];if(c){delete this._pendingCallbacks[a.mid];try{c.useCallback&&c.isPromiseMethod&&a.args.shift(),c.apply(window,a.args)}catch(e){y.error(e.message,
e.stack)}}}};b._handleEvent=function(a){function c(l){return l?(Array.isArray(l)||(l=[l]),l):[]}var e=function(){var l=y.argumentsToArray(arguments);a.source.postMessage({eid:this._data.extension_id,mid:a.data.mid,type:"resp",args:l},this._data.origin)},g=a.data;e=y._bind(this,e);e._context={eventName:g.etyp};var h=c(this._eventHandlers[g.etyp]);h=h.concat(c(this._eventHandlers._any));h.forEach(function(l){try{l(g.evnt,e)}catch(v){y.error("exception thrown in event callback for:"+g.etyp)}},this);
g.mid&&e()};b._handleKeyDownDomEvent=function(a){var c=[];wa.forEach(function(g){a[g+"Key"]&&c.push(g)},this);var e=this._keyListenerId(a.keyCode,c);0<=this._keyListeners.indexOf(e)&&this._host.postMessage({eid:this._data.extension_id,keycode:a.keyCode,modifiers:c,type:"key_triggered"},this._data.origin)};b._keyListenerId=function(a,c){var e=a;c&&("string"===typeof c&&(c=[c]),c.sort(),c.forEach(function(g){e+="$$"+g},this));return e};b._handleKeyListen=function(a){var c=this._keyListenerId(a.data.keycode,
a.data.modifiers);"remove"===a.data.action?(a=this._keyListeners.indexOf(c),this._keyListeners.splice(a,1)):"add"===a.data.action&&(this._bindKeyDown(),this._keyListeners.push(c))};b._checkOrigin=function(a){var c=["api_tamper"];return a.data&&-1<c.indexOf(a.data.type)||this._isSubIframe&&a.source===this._topHost?!0:a.origin===this._data.origin&&a.source===this._host};b._handleInitReceived=function(){this._initReceived=!0};b._sendInit=function(a,c){var e=this,g;a===this._topHost&&this._topHost!==
window.parent&&(g=W.get("targets"));a.postMessage({eid:this._data.extension_id,type:"init",targets:g},c||"*");this._initCheck&&this._data.options.globalOptions.check_init&&setTimeout(function(){if(!e._initReceived)throw Error("Initialization message not received");},this._initTimeout)};b.sendSubCreate=function(a,c){c.id=a;this._topHost.postMessage({eid:this._data.extension_id,type:"sub",ext:c},this._hostOrigin)};b.broadcast=function(a,c){if(!y.isString(a))throw Error("Event type must be string");
this._host.postMessage({eid:this._data.extension_id,type:"broadcast",etyp:a,evnt:c},this._data.origin)};b.require=function(a,c){var e=this;a=(Array.isArray(a)?a:[a]).map(function(g){return e._hostModules[g]||e._hostModules._globals[g]});c.apply(window,a)};b.register=function(a){"object"===typeof a&&(this._eventHandlers=ta({},this._eventHandlers,a)||{},this._host.postMessage({eid:this._data.extension_id,type:"event_query",args:Object.getOwnPropertyNames(a)},this._data.origin))};b.registerAny=function(a){this.register({_any:a})};
b._initResize=function(){this.resize();var a=new va(this.resize);ua.add(y._bind(a,a.triggered))};return f}(N),m=new (function(d){function f(b){var a=d.call(this)||this;a.parentTargets={_globals:{}};var c=new xa(void 0,b);Object.getOwnPropertyNames(c).forEach(function(g){-1===["_hostModules","_globals"].indexOf(g)&&void 0===this[g]&&(this[g]=c[g])},T(a));["registerAny","register"].forEach(function(g){this[g]=Object.getPrototypeOf(c)[g].bind(c)},T(a));var e=c._data.api;"object"===typeof e&&Object.getOwnPropertyNames(e).forEach(function(g){var h=
{};Object.getOwnPropertyNames(e[g]).forEach(function(l){e[g][l].hasOwnProperty("constructor")?h[l]=c._hostModules[g][l].prototype:(h[l]=c._hostModules[g][l],h[l].returnsPromise=e[g][l].returnsPromise||!1)},this);this._xdm.defineAPIModule(h,g)},T(a));a._hostModules=c._hostModules;a.defineGlobal=function(g){this.parentTargets._globals=y.extend({},this.parentTargets._globals,g);this._xdm.defineAPIModule(g)};a.defineModule=function(g,h){this._xdm.defineAPIModule(h,g);this.parentTargets[g]={};Object.getOwnPropertyNames(h).forEach(function(l){this.parentTargets[g][l]=
"parent"},this)};a.subCreate=function(g,h){g.options=g.options||{};g.options.targets=y.extend({},this.parentTargets,g.options.targets);h=this.create(g,h);this._data.options.globalOptions.resolve_inner_iframe_url||c.sendSubCreate(h.id,g);return h};return a}aa(f,d);return f}(V)),L={each:k,log:q,decodeQueryComponent:function(d){return null==d?null:decodeURIComponent(d.replace(/\+/g,"%20"))},bind:n("add","attach"),unbind:n("remove","detach"),extend:function(d){var f=arguments;f=[].slice.call(f,1,f.length);
k(f,function(b,a){k(a,function(c,e){d[c]=e})});return d},trim:function(d){return d&&d.replace(/^\s+|\s+$/g,"")},debounce:function(d,f){var b;return function(){var a=this,c=[].slice.call(arguments);b&&clearTimeout(b);b=setTimeout(function(){b=null;d.apply(a,c)},f||50)}},isFunction:function(d){return"function"===typeof d},handleError:function(d){if(!q.apply(this,d&&d.message?[d,d.message]:[d]))throw d;}},fa=L.each,na=L.extend,ya=window.document,Z=na(function(d,f){f=f||ya;var b=[];d&&("string"===typeof d?
(d=f.querySelectorAll(d),fa(d,function(a,c){b.push(c)})):1===d.nodeType?b.push(d):d===window&&b.push(d));na(b,{each:function(a){fa(this,a);return this},bind:function(a,c){this.each(function(e,g){L.bind(g,a,c)})},attr:function(a){var c;this.each(function(e,g){c=g[a]||g.getAttribute&&g.getAttribute(a);return!c});return c},removeClass:function(a){return this.each(function(c,e){e.className&&(e.className=e.className.replace(new RegExp("(^|\\s)"+a+"(\\s|$)")," "))})},html:function(a){return this.each(function(c,
e){e.innerHTML=a})},append:function(a){return this.each(function(c,e){var g=f.createElement(a.tag);fa(a,function(h,l){"$text"===h?g.styleSheet?g.styleSheet.cssText=l:g.appendChild(f.createTextNode(l)):"tag"!==h&&(g[h]=l)});e.appendChild(g)})}});return b},L);N=function(){function d(){this._events={};this.ANY_PREFIX="_any";this.methods="off offAll offAny on onAny once".split(" ")}var f=d.prototype;f._anyListener=function(b,a){var c=a._context.eventName;a=this._events[this.ANY_PREFIX]||[];var e=this._events[c]||
[];Array.isArray(b)||(b=[b]);a.forEach(function(g){var h=b.slice(0);h.unshift(c);h.push({args:b,name:c});g.apply(null,h)});e.forEach(function(g){g.apply(null,b)})};f.off=function(b,a){this._events[b]&&(a=this._events[b].indexOf(a),-1<a&&this._events[b].splice(a,1),0===this._events[b].length&&delete this._events[b])};f.offAll=function(b){delete this._events[b]};f.offAny=function(b){this.off(this.ANY_PREFIX,b)};f.on=function(b,a){this._events[b]||(this._events[b]=[]);this._events[b].push(a)};f.onAny=
function(b){this.on(this.ANY_PREFIX,b)};f.once=function(b,a){function c(){a.apply(null,arguments);e.off(b,c)}var e=this;this.on(b,c)};return d}();var X=new N,ha=new (function(d){function f(){var a=d.call(this)||this;a.methods="offPublic offAllPublic offAnyPublic onPublic onAnyPublic oncePublic".split(" ");return a}aa(f,d);var b=f.prototype;b._filterEval=function(a,c){var e=!0;if(!a)return e;switch(typeof a){case "function":e=!!a.call(null,c);break;case "object":e=Object.getOwnPropertyNames(a).every(function(g){return c[g]===
a[g]})}return e};b.once=function(a,c,e){function g(l){c.apply(null,l);h.off(a,g)}var h=this;this.on(a,g,e)};b.on=function(a,c,e){c._wrapped=function(g){this._filterEval(e,g.sender)&&c.apply(null,g.event)}.bind(this);d.prototype.on.call(this,a,c._wrapped)};b.off=function(a,c){c._wrapped?d.prototype.off.call(this,a,c._wrapped):d.prototype.off.call(this,a,c)};b.onAny=function(a,c){a._wrapped=function(e){e.sender&&this._filterEval(c,e.sender)&&a.apply(null,e.event)};d.prototype.onAny.call(this,a._wrapped)};
b.offAny=function(a){a._wrapped?d.prototype.offAny.call(this,name,a._wrapped):d.prototype.offAny.call(this,name,a)};return f}(N)),za=1;N=w(function(){return m._data.options.customData},"AP.dialog.customData","AP.dialog.getCustomData()","5.0");m._hostModules&&m._hostModules.dialog&&(Object.defineProperty(m._hostModules.dialog,"customData",{get:N}),Object.defineProperty(m.dialog,"customData",{get:N}),m.dialog._disableCloseOnSubmit=!1,m.dialog.disableCloseOnSubmit=function(){m.dialog._disableCloseOnSubmit=
!0});var R={};X.onAny(function(d,f){var b=d.match(/^dialog\.(\w+)/);b&&("dialog.button.click"===d?u(f.button.identifier,f):G(b[1],f))});if(m.dialog&&m.dialog.create){var Aa=m.dialog.create.prototype.constructor.bind({});m.dialog.create=m._hostModules.dialog.create=function(){var d=Aa.apply(void 0,arguments);d.on=w(r,'AP.dialog.on("close", callback)','AP.events.on("dialog.close", callback)',"5.0");return d}}if(m.dialog&&m.dialog.getButton){var Ba=m.dialog.getButton.prototype.constructor.bind({});m.dialog.getButton=
m._hostModules.dialog.getButton=function(d){try{var f=Ba(d);f.bind=w(function(b){return r(d,b)},"AP.dialog.getDialogButton().bind()",'AP.events.on("dialog.message", callback)',"5.0");return f}catch(b){return{}}}}if(m.dialog&&m.dialog.createButton){var Ca=m.dialog.createButton.prototype.constructor.bind({});m.dialog.createButton=m._hostModules.dialog.createButton=function(d){var f={};"object"!==typeof d?(f.text=d,f.identifier=d):f=d;f.identifier||(f.identifier="user.button."+za++);Ca(f);return m.dialog.getButton(f.identifier)}}m.dialog&&
(m.dialog.onDialogMessage=m._hostModules.dialog.onDialogMessage=w(r,"AP.dialog.onDialogMessage()",'AP.events.on("dialog.message", callback)',"5.0"));m.Dialog||(m.Dialog=m._hostModules.Dialog=m.dialog);var Y={},ca={define:function(d,f,b){var a=I(d);b||(b=f,f=[]);if(b){var c="function"!==typeof b?function(){return b}:b;A(f,function(){var e=c.apply(window,arguments);if(e){"function"===typeof e&&(a.exports.__target__=e);for(var g in e)e.hasOwnProperty(g)&&(a.exports[g]=e[g])}})}},require:function(d,f){A("string"===
typeof d?[d]:d,f)}};N=new (function(){function d(){this.store={}}var f=d.prototype;f.set=function(b,a){if(a){var c={};c[b]=a}else c=b;L.extend(this.store,c)};f.get=function(b){return b?this.store[b]:L.extend({},this.store)};return d}());V={sendMetrics:function(){var d;a:{if(window.performance&&window.performance.getEntries&&(d=window.performance.getEntriesByType("navigation"))&&d[0]){d=d[0];var f=d.domainLookupEnd-d.domainLookupStart,b=d.connectStart;0<d.secureConnectionStart&&(b=d.secureConnectionStart);
d={domainLookupTime:f,connectionTime:d.connectEnd-b,decodedBodySize:d.decodedBodySize,domContentLoadedTime:d.domContentLoadedEventEnd-d.domContentLoadedEventStart,fetchTime:d.responseEnd-d.fetchStart};break a}d=void 0}m._analytics&&m._analytics.trackIframePerformanceMetrics&&m._analytics.trackIframePerformanceMetrics(d)}};m._hostModules._dollar=Z;m._hostModules["inline-dialog"]=m._hostModules.inlineDialog;!0===Q.get("sizeToParent")?m.env&&m.env.sizeToParent(!0===Q.get("hideFooter")):m.env&&m.env.hideFooter(!0===
Q.get("hideFooter"));!0===Q.get("base")&&m.env&&m.env.getLocation(function(d){Z("head").append({tag:"base",href:d,target:"_parent"})});Z.each(X.methods,function(d,f){m._hostModules&&m._hostModules.events&&(m._hostModules.events[f]=m.events[f]=X[f].bind(X),m._hostModules.events[f+"Public"]=m.events[f+"Public"]=ha[f].bind(ha))});m.define=w(function(){return ca.define.apply(ca,arguments)},"AP.define()",null,"5.0");m.require=w(function(){return ca.require.apply(ca,arguments)},"AP.require()",null,"5.0");
var Da=m._data.options.isDialog?"10px 10px 0 10px":"0";if(!1!==Q.get("margin")){var oa=function(){document.body&&document.body.style.setProperty("margin",Da,"important")};oa();window.addEventListener("DOMContentLoaded",oa)}m.Meta={get:da};m.meta=da;m.localUrl=function(d){var f=da("local-base-url");return"undefined"===typeof f||"undefined"===typeof d?f:""+f+d};m._hostModules._util=m._util={each:L.each,log:L.log,decodeQueryComponent:L.decodeQueryComponent,bind:L.bind,unbind:L.unbind,extend:L.extend,
trim:L.trim,debounce:L.debounce,isFunction:L.isFunction,handleError:L.handleError};m.defineModule&&m.defineModule("env",{resize:function(d,f,b){b=document.getElementById(b._context.extension_id);b.style.width=d+("number"===typeof d?"px":"");b.style.height=f+("number"===typeof f?"px":"")}});m._data&&m._data.origin&&m.registerAny(function(d,f){d&&d.event&&d.sender?ha._anyListener(d,f):X._anyListener(d,f)});N.set(m._data.options.globalOptions);"complete"===document.readyState?"function"===typeof window.requestIdleCallback?
window.requestIdleCallback(V.sendMetrics,{timeout:1E3}):V.sendMetrics():window.addEventListener("load",V.sendMetrics);return m}();(function(){function B(k){if("string"===typeof k&&1<k.length)try{var n=JSON.parse(k)}catch(q){console.error("ACJS: failed to decode context",k)}"object"!==typeof n&&(n={});return n}function D(k,n){var q=k.contentDocument;k={type:"set_inner_iframe_url",iframeData:n,extension_id:JSON.parse(k.name).extension_id};n="(function(){ var w = window; for (var i=0; i<"+n.options.hostFrameOffset+"; i++){w = w.parent; } w.postMessage("+JSON.stringify(k)+', "*");}());';q.open();q.write("<script>"+n+"\x3c/script>");
q.close()}function E(k,n){if("number"!==typeof k)return window.top;n=n||window;for(var q=0;q<k;q++)n=n.parent;return n}function F(k,n,q){q=q||100;if("undefined"!==typeof window[k])n(window[k]);else var u=setInterval(function(){"undefined"!==typeof window[k]&&(clearInterval(u),n(window[k]))},q)}function x(k){window._AP.isSubHost=E(k.hostFrameOffset)!==window;var n=window._AP._convertConnectOptions(k);window._AP.addonAttemptCounter[n.containerId]=0;if(window._AP.isSubHost){window.AP&&window.AP._data&&
window.AP._data.options&&window.AP._data.options.globalOptions&&(n.options.globalOptions=window.AP._data.options.globalOptions);var q=window._AP._createSub(n);H(q,n)}else F("connectHost",function(u){z(u,{addon_key:n.addon_key,key:n.key}).forEach(function(G){if(G.extension.options.uniqueKey===n.options.uniqueKey){var r=document.getElementById(G.extension_id);u.destroy(G.extension_id);r&&AJS.$(r).closest(".ap-iframe-container").remove()}},this);q=u.create(n);H(q,n)})}function H(k,n){var q=document.getElementById(n.containerId);
window._AP.addonAttemptCounter[n.containerId]++;if(q)if(delete window._AP.addonAttemptCounter[n.containerId],window._AP.isSubHost)q.appendChild(k),D(k,n);else{var u=q.querySelector(".ap-iframe-container");u&&(u.parentNode.removeChild(u),AJS.log&&AJS.log("AJS: duplicate iframe removed",n,q));k.appendTo(q);k.data("addon-key",n.addon_key);k.data("key",n.key)}else 10>=window._AP.addonAttemptCounter[n.containerId]&&t(function(){H(k,n)})}var t=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||function(k){window.setTimeout(k,50)}}(),z=function(k,n){return k.getExtensions(n).filter(function(q){return!!document.getElementById(q.extension_id)})},p=function(k,n,q){try{var u=require(k);n(u)}catch(G){0>=q?(console.error("Unable to load module: "+k),n(null)):setTimeout(function(){p(k,n,q-1)},500)}},w=function(k,n,q,u,G){"undefined"===typeof u&&(u=20);G=G||500;!k.isModuleDefined||0>=u?q():k.isModuleDefined(n)?q(!0):setTimeout(function(){w(k,n,q,u-1,G)},G)};window._AP=
window._AP||{};window._AP.addonAttemptCounter=window._AP.addonAttemptCounter||{};window._AP._convertConnectOptions=function(k){var n={url:k.url,ns:k.uniqueKey,addon_key:k.addon_key,key:k.key,containerId:"embedded-"+k.uniqueKey,options:{history:{state:""},uniqueKey:k.uniqueKey,origin:k.origin,hostOrigin:k.hostOrigin,moduleType:k.moduleType,moduleLocation:k.moduleLocation,isFullPage:"1"===k.general,autoresize:!0,user:{timeZone:k.timeZone,fullName:k.fullName,uid:k.uid,ukey:k.ukey},productContext:B(k.productCtx),
structuredContext:B(k.structuredContext),contextJwt:k.contextJwt,contextPath:k.cp,width:k.w||k.width,height:k.h||k.height,sandbox:k.sandbox,pearApp:k.pearApp,noSub:k.noSub,allowPathTraversal:k.allowPathTraversal,targets:{env:{resize:"both"}}}};"string"===typeof k.contentClassifier&&(n.options.contentClassifier=k.contentClassifier);"number"===typeof k.hostFrameOffset&&(n.options.hostFrameOffset=k.hostFrameOffset+1);window._AP.isSubHost||(n.options.history.state=window.location.hash?window.location.hash.substr(2):
"");return n};window._AP._createSub=function(k){var n=document.createElement("iframe"),q=(window.connectHost||window.AP).subCreate(k);q.width=k.options.width||"";q.height=k.options.height||"";q.style="border:0;";q["class"]="ap-iframe";q["data-addon-key"]=k.addon_key;q["data-key"]=k.key;delete q.src;Object.getOwnPropertyNames(q).forEach(function(u){n.setAttribute(u,q[u])});return n};window._AP.appendConnectAddon=function(k){var n=!1;try{window.top.karma&&(n=!0)}catch(u){}if(window===window.top||n)/^com\.atlassian\.(jira|confluence)\.emcee($|\.local|\.staging|\.development\..*)/g.test(k.addon_key)?
p("ac/marketplace",function(u){u&&F("connectHost",function(G){G.defineModule("marketplace",u)});x(k)},20):"com.addonengine.analytics"===k.addon_key?F("connectHost",function(u){w(u,"analytics",function(){x(k)})}):x(k);else{var q=function(u){u.source===window.top&&u.data&&void 0!==u.data.hostFrameOffset&&(window.removeEventListener("message",q),k.hostFrameOffset=u.data.hostFrameOffset,x(k))};window.addEventListener("message",q);window.top.postMessage({type:"get_host_offset"},"*")}}})();function _defineProperty(B,D,E){return D in B?Object.defineProperty(B,D,{value:E,enumerable:!0,configurable:!0,writable:!0}):B[D]=E,B}
!function(){function B(r,A){for(var I=0,M=r.length;I<M;I+=1)if(A(r[I]))return r[I]}function D(r){var A=this,I={pop:p,push:w,replace:k,change:n};if(!r.listener)throw Error("missing listener for subscription");if(!r.type)throw Error("missing type for subscription");if(!I[r.type])throw Error("invalid type for subscription");this.listener=r.listener;this.type=r.type;this.eventName=I[this.type];this.lastValue=r.lastValue;this.attribute=r.attribute;this.handler=function(M){return"string"!=typeof A.attribute?
A.listener(M):A.lastValue!==M[A.attribute]?(M.newURL=M[A.attribute],M.oldURL=A.lastValue,A.lastValue=M[A.attribute],A.listener(M)):void 0}}function E(r){return r.models=r.models||[],r.models instanceof Array||(r.models=[r.models]),r.models=r.models.map(function(A){return A instanceof D?A:new D(A)}),this.models=r.models,this}function F(r){return function(A){q.models.filter(function(I){return I.eventName===r}).forEach(function(I){I.handler(A)})}}function x(r){AP.history._registerWindowListeners();var A=
q.find("change",r);A||(A=new D({type:"change",attribute:"hash",listener:r}),q.add(A))}function H(r,A){AP.history._registerWindowListeners();var I=q.find(r,A);I||(I=new D({type:r,listener:A}),q.add(I))}function t(r,A){(r=q.find(r,A))&&q.remove(r)}var z;if(AP._hostModules.history){var p="history_popstate",w="history_pushstate",k="history_replacestate",n="history_changestate";E.prototype.add=function(r){this.models.push(r)};E.prototype.remove=function(r){this.models.splice(this.models.indexOf(r),1)};
E.prototype.find=function(r,A){return B(this.models,function(I){return I.type===r&&I.listener===A})};var q=new E({models:[]});AP.register((z={},_defineProperty(z,p,F(p)),_defineProperty(z,w,F(w)),_defineProperty(z,k,F(k)),_defineProperty(z,n,F(n)),z));AP._hostModules.history.popState=x;AP.history.popState=x;AP._hostModules.history.subscribeState=H;AP.history.subscribeState=H;AP._hostModules.history.unsubscribeState=t;AP.history.unsubscribeState=t;var u=null;AP._data.options&&AP._data.options.history&&
AP._data.options.history.state&&(u={hash:AP._data.options.history.state});AP.history.getState("all",function(r){u=r});AP.history.subscribeState("change",function(r){u=r});var G=AP._hostModules.history.getState.bind({});AP.history.getState=AP._hostModules.history.getState=function(r,A){if(A=arguments[arguments.length-1],"function"==typeof A)return"string"==typeof r?G(r,A):G(A);if(r=r||"hash","hash"===r)return u&&u.hash?u.hash:"";if("all"===r)return u;throw Error("invalid type for getState");}}}();(function(){function B(p){return"function"===typeof p}if(AP.jira){var D,E,F=function(){},x,H={onSaveValidation:function(p){E=p},onSave:function(p){D=p},trigger:function(){var p=!0;B(E)&&(p=E.call());var w;D&&(w=D.call());p={valid:p,value:p?""+w:void 0};AP.jira._submitWorkflowConfigurationResponse(p);return p}};AP.register({jira_workflow_post_function_submit:function(){H.trigger()}});AP.jira.WorkflowConfiguration=AP._hostModules.jira.WorkflowConfiguration=H;AP.register({jira_dashboard_item_edit:function(){F.call()}});
AP.jira.DashboardItem=AP._hostModules.jira.DashboardItem={onDashboardItemEdit:function(p){F=p}};var t=AP._hostModules.jira.openDatePicker.bind({});AP.jira.openDatePicker=AP._hostModules.jira.openDatePicker=function(p){if(!p.position||"object"!==typeof p.position){var w=p.element;if(!w||!w.nodeType||1!=w.nodeType)throw Error("Providing either options.position or options.element is required.");p.position={}}if(!p.onSelect||!B(p.onSelect))throw Error("options.onSelect function is a required parameter.");
p={element:p.element,position:{top:p.position.top||0,left:p.position.left||0},date:p.date,showTime:!!p.showTime,onSelect:p.onSelect};x=p.onSelect;delete p.onSelect;p.element&&(w=p.element.getBoundingClientRect(),p.position={left:w.left,top:w.top+w.height},delete p.element);t(p)};AP.register({jira_date_selected:function(p){B(x)&&x.call({},p.isoDate,p.date)}});var z=AP._hostModules.jira.openCreateIssueDialog.bind({});AP.jira.openCreateIssueDialog=AP._hostModules.jira.openCreateIssueDialog=function(p,
w){z(w,p)}}})();(function(){if(AP.dropdownList){var B={},D={},E=AP._hostModules.dropdownList.create,F=function(){var x=E();x.onSelect=function(H){B[x._id]=H};x.onHide=function(H){D[x._id]=H};return x};AP._hostModules.dropdownList.create=F;AP.dropdownList.create=F;AP.register({dropdown_list_select:function(x){var H=B[x.id];H&&H.call({},x.data)},dropdown_list_hide:function(x){(x=D[x.id])&&x.call({})}})}})();(function(){function B(t,z){var p;if(t){var w=t.length;if(null!=w&&"function"!==typeof t)for(p=0;p<w&&!1!==z.call(t[p],p,t[p]);)p+=1;else for(p in t)if(t.hasOwnProperty(p)&&!1===z.call(t[p],p,t[p]))break}}function D(t){var z=arguments;z=[].slice.call(z,1,z.length);B(z,function(p,w){B(w,function(k,n){t[k]=n})});return t}function E(t){return t instanceof Blob&&t.name?{blob:t,name:t.name,_isBlob:!0}:t}function F(t){var z=D({},t),p=t.headers||{};delete z.headers;return D(z,{getResponseHeader:function(w){var k=
null;w&&(w=w.toLowerCase(),B(p,function(n,q){if(n.toLowerCase()===w)return k=q,!1}));return k},getAllResponseHeaders:function(){var w="";B(p,function(k,n){w+=(w?"\r\n":"")+k+": "+n});return w}})}function x(t,z){return new AP._promise(function(p,w){"string"===typeof t&&("object"===typeof z?(z.url=t,t=z):t={url:t});if(t.success){var k=t.success;delete t.success;var n=t.error||function(){};delete t.error;z=function(q,u,G){!1===q?k(G,"success",F(u)):n(F(u),"error",q)}}else"function"!==typeof z&&(z=function(q,
u,G){!1===q?p({body:G,xhr:F(u)}):w({xhr:F(u),err:q})});"multipart/form-data"===t.contentType&&Object.keys(t.data).forEach(function(q){var u=t.data[q];Array.isArray(u)?u.forEach(function(G,r){t.data[q][r]=E(G)}):t.data[q]=E(u)});H(t,z)})}if(AP._hostModules&&AP._hostModules._globals&&AP._hostModules._globals.request){try{new File([],"")}catch(t){File=function(z,p,w){z=new Blob(z,w);z.name=p;z.lastModifiedDate=new Date;return z}}var H=AP._hostModules._globals.request.bind({});AP._hostModules._globals.request=
x;AP.request=x}})();AP._hostModules.user&&AP._hostModules.env&&Object.getOwnPropertyNames(AP._hostModules.user).forEach(function(B){AP[B]=AP.env[B]=AP._hostModules.env[B]=AP._hostModules.user[B]});AP.env&&(AP.getLocation=AP._hostModules._globals.getLocation=AP._hostModules.env.getLocation,AP.sizeToParent=AP._hostModules._globals.sizeToParent=AP._hostModules.env.sizeToParent);
if(AP._hostModules.dialog&&AP._hostModules.Dialog){function B(D){D(!AP._data.options.preventDialogCloseOnEscape)}AP._hostModules.dialog.isCloseOnEscape=AP._hostModules.Dialog.isCloseOnEscape=B;AP.dialog.isCloseOnEscape=AP.Dialog.isCloseOnEscape=B};if(AP._hostModules.confluence){var original_onMacroPropertyPanelEvent=AP._hostModules.confluence.onMacroPropertyPanelEvent.bind({});AP.confluence.onMacroPropertyPanelEvent=AP._hostModules.confluence.onMacroPropertyPanelEvent=function(B){AP.register(B);original_onMacroPropertyPanelEvent()}};
